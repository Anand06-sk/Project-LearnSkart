<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnSkart - Previous Question Papers</title>
    <link rel="icon" href="../assets/icons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="../assets/icons/apple-touch-icon.png">
    <link rel="manifest" href="../assets/icons/site.webmanifest">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="../assets/css/question.css">
</head>
<body>
<script src="../assets/js/theme.js" defer></script>

    <nav class="nav">
        <div class="container nav-inner">
            <div class="logo-wrap">
                <div class="logo-icon"><img src="../assets/icons/favicon-96x96.png" alt="LearnSkart Logo" class="logo-img"></div>
                <div class="logo-text">
                    <h1>LearnSkart</h1>
                    <p>Question Papers</p>
                </div>
            </div>
            <div class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../index.html#contact">Contact</a>
                <a href="../about/index.html">About</a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-bg"></div>
        <div class="container">
            <span class="badge">Academic Resource Portal</span>
            <h1 class="hero-title">Find Your <span class="text-blue">Previous Papers</span></h1>
            <p class="hero-desc">Access a comprehensive collection of previous year question papers for all engineering departments. Organized, searchable, and ready to download.</p>

            <div class="search-box">
                <div class="search-inner">
                    <i data-lucide="search" class="search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Search for subjects (e.g., Data Structures)">
                </div>
            </div>

            <div id="deptTabs" class="tabs"></div>
            <div id="semTabs" class="tabs" style="margin-top: 1rem;"></div>
        </div>
    </section>

    <main class="main container">
        <div class="content-header">
            <h2 class="dept-title">
                <span id="displayDeptName">Loading...</span>
                <span id="subjectCount" class="count-badge">0 Subjects</span>
            </h2>
            
            <div class="reg-toggle">
                <span class="reg-label">Regulation:</span>
                <div class="reg-btns">
                    <button class="reg-btn active" onclick="setReg('2021', this)">2021</button>
                    <button class="reg-btn" onclick="setReg('2025', this)">2025</button>
                </div>
            </div>
        </div>

        <div id="loader" class="loader"><div class="spinner"></div><p>Loading papers...</p></div>
        <div id="emptyState" class="empty-state hidden">
            <div class="logo-icon" style="margin: 0 auto 1rem; background: #f1f5f9; color: #94a3b8;"><i data-lucide="search"></i></div>
            <h3>No subjects found</h3>
            <p>Try searching for something else or change the regulation.</p>
        </div>

        <div id="comingSoonState" class="empty-state hidden">
            <div class="logo-icon" style="margin: 0 auto 1rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;"><i data-lucide="clock"></i></div>
            <h3 style="color: var(--primary);">Coming Soon!</h3>
            <p style="font-size: 1rem; margin-top: 0.5rem;">The 2025 regulation question papers are currently being prepared.</p>
            <p style="color: var(--muted); font-size: 0.875rem;">Please check back later or select the 2021 regulation for available papers.</p>
        </div>

        <div id="grid" class="grid"></div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-logo"><img src="../assets/icons/favicon-96x96.png" alt="LearnSkart Logo" class="logo-img"> LearnSkart</div>
            <p style="color:var(--muted); font-size:0.875rem; margin-bottom:2rem;">Designed to help students excel by providing easy access to academic resources.</p>
            <div style="font-size:0.75rem; color:#94a3b8; text-align: center;">Â© <span id="year"></span> LearnSkart. All rights reserved. Made with <i class="fas fa-heart"></i> for students.</div>
        </div>
    </footer>

    <div id="pdfModal" class="modal hidden" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="modalTitle" style="font-size:1rem; display:flex; gap:8px; align-items:center;">Preview</h3>
                <button class="btn-icon" onclick="closeModal()"><i data-lucide="x"></i></button>
            </div>
            <iframe id="pdfFrame" class="pdf-frame" src=""></iframe>
            <div class="modal-footer">
                <button class="btn-contribute" onclick="closeModal()">Close</button>
                <button class="btn-contribute" style="background:var(--primary); color:white; border:none;" onclick="downloadCurrentPdf()">Download PDF</button>
            </div>
        </div>
    </div>

    <script src="../assets/js/question.js"></script>
</body>
</html>